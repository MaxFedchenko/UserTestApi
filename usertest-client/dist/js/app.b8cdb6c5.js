(function(){"use strict";var t={8153:function(t,n,s){var o=s(9242),r=s(3396);const i={class:"navbar-fixed"},l={class:"nav-wrapper container"},u=(0,r._)("div",{class:"brand-logo s right center"},"Tests",-1),a={class:"left"};function c(t,e,n,s,o,c){const d=(0,r.up)("router-link"),p=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",i,[(0,r._)("nav",null,[(0,r._)("div",l,[u,(0,r._)("ul",a,[(0,r._)("li",null,[(0,r.Wm)(d,{to:"/login"},{default:(0,r.w5)((()=>[(0,r.Uk)("Login")])),_:1})]),(0,r._)("li",null,[(0,r.Wm)(d,{to:"/tests"},{default:(0,r.w5)((()=>[(0,r.Uk)("Test List")])),_:1})])])])])]),(0,r.Wm)(p)],64)}var d=s(5797),p=s.n(d),f={name:"App",mounted(){p().AutoInit()}},h=s(89);const m=(0,h.Z)(f,[["render",c]]);var g=m,v=s(2483);const b=t=>((0,r.dD)("data-v-2205db62"),t=t(),(0,r.Cn)(),t),_={id:"login-form",class:"row"},w={class:"col s12 offset-m3 m6 offset-l4 l4"},T=b((()=>(0,r._)("h1",null,"Login",-1))),y=b((()=>(0,r._)("br",null,null,-1))),N=b((()=>(0,r._)("br",null,null,-1))),k=["disabled"];function P(t,e,n,s,i,l){return(0,r.wg)(),(0,r.iD)("div",_,[(0,r._)("div",w,[T,y,N,(0,r._)("p",null,[(0,r.wy)((0,r._)("input",{placeholder:"User Name","onUpdate:modelValue":e[0]||(e[0]=e=>t.userName=e),disabled:t.processing},null,8,k),[[o.nr,t.userName]])]),(0,r._)("button",{class:"btn-large",onClick:e[1]||(e[1]=(...t)=>l.onSubmit&&l.onSubmit(...t))},"Submit")])])}s(7658);var U=s(4161),D={baseURL:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_WEB_API??"/api/",getRequest:async function(t){try{const e=await U.Z.get(t);return console.log("GET "+t,e.data),e.data}catch(n){throw console.error("GET "+t,e),n}},postRequest:async function(t,n){try{const e=await U.Z.post(t,n);return console.log("POST "+t,e.data),e.data}catch(s){throw console.error("POST "+t,e),s}},loginUser:async function(t){const e=this.baseURL+"account",n={userName:t};await this.postRequest(e,n)},getTests:async function(t){const e=this.baseURL+"test?user="+t;return await this.getRequest(e)},getTest:async function(t){const e=this.baseURL+"test/"+t;return await this.getRequest(e)},postAnswers:async function(t,e,n){const s=this.baseURL+"test/complete",o={testId:t,userName:e,answers:n};return await this.postRequest(s,o)}},E={emits:["login"],data:function(){return{userName:"user1",processing:!1}},methods:{onSubmit:function(){this.userName?.trim()?(this.processing=!0,D.loginUser(this.userName).then((()=>{console.log("Login completed",this.userName),this.$store.commit("login",this.userName),this.$router.push("/tests")})).catch((()=>console.error("Login failed"))).finally((()=>this.processing=!1))):console.error("Empty input on submit")}}};const O=(0,h.Z)(E,[["render",P],["__scopeId","data-v-2205db62"]]);var R=O,C=s(7139);const q=t=>((0,r.dD)("data-v-749a8b3a"),t=t(),(0,r.Cn)(),t),L={class:"container"},A={class:"section"},I={key:0},V={key:0},S=["onClick"],z=q((()=>(0,r._)("div",{class:"divider"},null,-1)));function B(t,e,n,s,o,i){return(0,r.wg)(),(0,r.iD)("div",L,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.tests,(t=>((0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",A,[(0,r._)("div",null,[(0,r._)("h4",null,(0,C.zw)(t.testName),1),t.isCompleted?((0,r.wg)(),(0,r.iD)("h6",I,"Completed "+(0,C.zw)(t.userPoints)+"/"+(0,C.zw)(t.totalPoints),1)):(0,r.kq)("",!0)]),t.isCompleted?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",V,[(0,r._)("button",{class:"btn-small",onClick:e=>i.startTest(t.testId)}," Start ",8,S)]))]),z])))),256))])}var $={setup:function(){console.log("Tests component setup")},beforeRouteEnter(t,e,n){console.log("Before route rnter user tests"),n((t=>t.getTests()))},data:function(){return{tests:null}},methods:{getTests:function(){D.getTests(this.$store.state.userName).then((t=>{this.tests=t})).catch((()=>console.error("Failed to fetch tests")))},startTest:function(t){this.$router.push("/test/"+t)}}};const j=(0,h.Z)($,[["render",B],["__scopeId","data-v-749a8b3a"]]);var x=j;const W=t=>((0,r.dD)("data-v-5c8c87ac"),t=t(),(0,r.Cn)(),t),Z={class:"container"},F={class:"section"},G=W((()=>(0,r._)("div",{class:"divider"},null,-1))),H=["value","onUpdate:modelValue"],Y=W((()=>(0,r._)("br",null,null,-1))),K=["disabled"],M=W((()=>(0,r._)("div",{id:"blur-screen"},null,-1))),J={id:"result-form"},Q=W((()=>(0,r._)("br",null,null,-1)));function X(t,e,n,s,i,l){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",Z,[(0,r._)("h3",null,(0,C.zw)(t.testName),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.questions,(t=>((0,r.wg)(),(0,r.iD)("div",F,[(0,r._)("h5",null,(0,C.zw)(t.number)+") "+(0,C.zw)(t.description),1),G,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.options,(e=>((0,r.wg)(),(0,r.iD)("p",null,[(0,r._)("label",null,[(0,r.wy)((0,r._)("input",{type:"radio",class:"with-gap",value:e.number,"onUpdate:modelValue":e=>t.answer=e},null,8,H),[[o.G2,t.answer]]),(0,r._)("span",null,(0,C.zw)(e.name),1)])])))),256))])))),256)),Y,(0,r._)("button",{class:"btn-large",onClick:e[0]||(e[0]=(...t)=>l.completeTest&&l.completeTest(...t)),disabled:t.processing}," Complete ",8,K)]),(0,r.wy)((0,r._)("div",null,[M,(0,r._)("div",J,[(0,r._)("h2",null,"Score: "+(0,C.zw)(t.points),1),Q,(0,r._)("button",{class:"btn",onClick:e[1]||(e[1]=(...t)=>l.cancelTest&&l.cancelTest(...t))},"Go back")])],512),[[o.F8,t.resultPopupVisible]])])}var tt={setup(){},data:function(){return{testId:null,testName:null,questions:null,resultPopupVisible:!1,points:null,processing:!1}},beforeRouteEnter(t,e,n){console.log("Before route enter test form"),n((t=>t.loadTest()))},beforeRouteUpdate(t,e){console.log("Before route update test form"),this.loadTest()},methods:{loadTest:function(){D.getTest(this.$route.params.id).then((t=>{this.testId=t.id,this.testName=t.name,this.questions=t.questions})).catch((()=>console.error("Failed to load test")))},completeTest:function(){const t=this.questions.reduce(((t,e)=>(t[e.number]=e.answer,t)),{});this.processing=!0,D.postAnswers(this.testId,this.$store.state.userName,t).then((t=>{console.log("Test completed with the score",t),this.points=t,this.resultPopupVisible=!0})).catch((()=>console.error("Failed to complete test"))).finally((()=>{this.processing=!1}))},cancelTest:function(){this.resultPopupVisible=!1,this.$router.push("/tests")}}};const et=(0,h.Z)(tt,[["render",X],["__scopeId","data-v-5c8c87ac"]]);var nt=et,st=s(65),ot=(0,st.MT)({state(){return{userName:null}},mutations:{login(t,e){t.userName=e}}});const rt=[{path:"/login",component:R},{path:"/tests",component:x},{path:"/test/:id",component:nt}],it=(0,v.p7)({history:(0,v.PO)(),routes:rt});it.beforeEach(((t,e,n)=>{ot.state.userName||"/login"==t.fullPath||n("/login"),n()}));var lt=it;const ut=(0,o.ri)(g);ut.provide("WebApi",{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_WEB_API??"api/"),ut.use(lt),ut.use(ot),ut.mount("#app")}},n={};function s(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,n,o,r){if(!n){var i=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],r=t[c][2];for(var l=!0,u=0;u<n.length;u++)(!1&r||i>=r)&&Object.keys(s.O).every((function(t){return s.O[t](n[u])}))?n.splice(u--,1):(l=!1,r<i&&(i=r));if(l){t.splice(c--,1);var a=o();void 0!==a&&(e=a)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[n,o,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,r,i=n[0],l=n[1],u=n[2],a=0;if(i.some((function(e){return 0!==t[e]}))){for(o in l)s.o(l,o)&&(s.m[o]=l[o]);if(u)var c=u(s)}for(e&&e(n);a<i.length;a++)r=i[a],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(c)},n=self["webpackChunkusertest_client"]=self["webpackChunkusertest_client"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var o=s.O(void 0,[998],(function(){return s(8153)}));o=s.O(o)})();
//# sourceMappingURL=app.b8cdb6c5.js.map